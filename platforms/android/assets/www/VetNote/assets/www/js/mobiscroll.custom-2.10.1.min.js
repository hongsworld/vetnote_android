(function(a){a.widget("mobile.jqmMobiscroll",a.mobile.widget,{options:{theme:"jqm",preset:"date",animate:"pop"},_create:function(){var u=this.element,B=a.extend(this.options,u.jqmData("options"));u.mobiscroll(B)}});a(document).bind("pagebeforecreate",function(u){a('input[type="date"]:jqmData(role="mobiscroll")',u.target).prop("type","text")});a(document).bind("pagecreate create",function(u){a(document).trigger("mobiscrollbeforecreate");a(':jqmData(role="mobiscroll")',u.target).each(function(){"undefined"===
typeof a(this).data("mobiscroll")&&a(this).jqmMobiscroll()})})})(jQuery);(function(a){function u(a){for(var b in a)if(void 0!==i[a[b]])return!0;return!1}function B(a,b){a=a.originalEvent||a;return a.changedTouches?a.changedTouches[0]["page"+b]:a["page"+b]}function V(i,l,q){var r=i;if("object"===typeof l)return i.each(function(){this.id||(this.id="mobiscroll"+ ++w);b[this.id]&&b[this.id].destroy();new a.mobiscroll.classes[l.component||"Scroller"](this,l)});"string"===typeof l&&i.each(function(){var a;if((a=b[this.id])&&a[l])if(a=a[l].apply(this,Array.prototype.slice.call(q,
1)),void 0!==a)return r=a,!1});return r}function P(a){if("touchstart"==a.type)r[a.target]=!0;else if(r[a.target])return delete r[a.target],!1;return!0}var w=+new Date,r={},b={},o=a.extend,i=document.createElement("modernizr").style,ca=u(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),A=u(["flex","msFlex","WebkitBoxDirection"]),l=function(){var a=["Webkit","Moz","O","ms"],b;for(b in a)if(u([a[b]+"Transform"]))return"-"+a[b].toLowerCase()+"-";return""}(),
W=l.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz");a.fn.mobiscroll=function(b){o(this,a.mobiscroll.components);return V(this,b,arguments)};a.mobiscroll=a.mobiscroll||{util:{prefix:l,jsPrefix:W,has3d:ca,hasFlex:A,getCoord:B,testTouch:P},presets:{},themes:{},i18n:{},instances:b,classes:{},components:{},defaults:{},userdef:{},setDefaults:function(a){o(this.userdef,a)},presetShort:function(a,b){this.components[a]=function(i){return V(this,o(i,{component:b,preset:a}),arguments)}}};a.scroller=
a.scroller||a.mobiscroll;a.fn.scroller=a.fn.scroller||a.fn.mobiscroll})(jQuery);(function(a){function u(){r=!0;setTimeout(function(){r=!1},500)}function B(a,b,i){return Math.max(b,Math.min(a,i))}function V(b){var i={values:[],keys:[]};a.each(b,function(a,b){i.keys.push(a);i.values.push(b)});return i}a.mobiscroll.classes.Scroller=function(C,L){function xa(Na){if(I(Na)&&!w&&!ja&&!s&&!v(this)&&(Na.preventDefault(),w=!0,ra="clickpick"!=g.mode,ka=a(".dw-ul",this),N(ka),za=(pa=void 0!==la[ma])?aa(ka):Aa[ma],ba=y(Na,"Y"),Ga=new Date,J=ba,T(ka,ma,za,0.001),ra&&ka.closest(".dwwl").addClass("dwa"),
"mousedown"===Na.type))a(document).on("mousemove",k).on("mouseup",h)}function k(a){w&&(ra&&(a.preventDefault(),a.stopPropagation(),J=y(a,"Y"),T(ka,ma,B(za+(ba-J)/x,ya-1,sa+1))),ba!==J&&(pa=!0))}function h(Na){if(w){var c=new Date-Ga,e=B(za+(ba-J)/x,ya-1,sa+1),b,s=ka.offset().top;l&&300>c?(c=(J-ba)/c,b=c*c/g.speedUnit,0>J-ba&&(b=-b)):b=J-ba;c=Math.round(za-b/x);if(!b&&!pa){var s=Math.floor((J-s)/x),j=a(a(".dw-li",ka)[s]);b=ra;!1!==d("onValueTap",[j])?c=s:b=!0;b&&(j.addClass("dw-hl"),setTimeout(function(){j.removeClass("dw-hl")},
200))}ra&&f(ka,c,0,!0,Math.round(e));"mouseup"===Na.type&&a(document).off("mousemove",k).off("mouseup",h);w=!1}}function Q(c){s&&s.removeClass("dwb-a");s=a(this);!s.hasClass("dwb-d")&&!s.hasClass("dwb-nhl")&&s.addClass("dwb-a");s.hasClass("dwwb")&&I(c)&&da(c,s.closest(".dwwl"),s.hasClass("dwwbp")?Da:ta);if("mousedown"===c.type)a(document).on("mouseup",F)}function F(c){ja&&(clearInterval(Ha),ja=!1);s&&(s.removeClass("dwb-a"),s=null);"mouseup"===c.type&&a(document).off("mousedown",F)}function ca(c){38==
c.keyCode?da(c,a(this),ta):40==c.keyCode&&da(c,a(this),Da)}function t(){ja&&(clearInterval(Ha),ja=!1)}function Ea(c){if(!v(this)){c.preventDefault();var c=c.originalEvent||c,c=c.wheelDelta?c.wheelDelta/120:c.detail?-c.detail/3:0,g=a(".dw-ul",this);N(g);f(g,Math.round(Aa[ma]-c),0>c?1:2)}}function O(a){var c,g,e;n.remove();P&&!a&&setTimeout(function(){b=!0;c=P[0];e=c.type;g=c.value;c.type="button";P.focus();c.type=e;c.value=g},200);Y=!1}function da(a,c,e){a.stopPropagation();a.preventDefault();if(!ja&&
!v(c)&&!c.hasClass("dwa")){ja=!0;var b=c.find(".dw-ul");N(b);clearInterval(Ha);Ha=setInterval(function(){e(b)},g.delay);e(b)}}function v(c){return a.isArray(g.readonly)?(c=a(".dwwl",n).index(c),g.readonly[c]):g.readonly}function ga(c){var g='<div class="dw-bf">',c=Ia[c],c=c.values?c:V(c),e=1,b=c.labels||[],s=c.values,d=c.keys||s;a.each(s,function(a,c){0===e%20&&(g+='</div><div class="dw-bf">');g+='<div role="option" aria-selected="false" class="dw-li dw-v" data-val="'+d[a]+'"'+(b[a]?' aria-label="'+
b[a]+'"':"")+' style="height:'+x+"px;line-height:"+x+'px;"><div class="dw-i"'+(1<Fa?' style="line-height:'+Math.round(x/Fa)+"px;font-size:"+Math.round(0.8*(x/Fa))+'px;"':"")+">"+c+"</div></div>";e++});return g+="</div>"}function N(c){ya=a(".dw-li",c).index(a(".dw-v",c).eq(0));sa=a(".dw-li",c).index(a(".dw-v",c).eq(-1));ma=a(".dw-ul",n).index(c)}function D(a){var c=g.headerText;return c?"function"===typeof c?c.call(C,a):c.replace(/\{value\}/i,a):""}function ha(){c.temp=c.values?c.values.slice(0):g.parseValue(ea.val()||
"",c);p()}function aa(c){var g=window.getComputedStyle?getComputedStyle(c[0]):c[0].style,e;l?(a.each(["t","webkitT","MozT","OT","msT"],function(a,c){if(void 0!==g[c+"ransform"])return e=g[c+"ransform"],!1}),e=e.split(")")[0].split(", "),c=e[13]||e[5]):c=g.top.replace("px","");return Math.round(Ja-c/x)}function na(a,c){clearTimeout(la[c]);delete la[c];a.closest(".dwwl").removeClass("dwa")}function T(a,c,g,e,b){var s=(Ja-g)*x,j=a[0].style;s==Ta[c]&&la[c]||(e&&s!=Ta[c]&&d("onAnimStart",[n,c,e]),Ta[c]=
s,j[A+"Transition"]="all "+(e?e.toFixed(3):0)+"s ease-out",l?j[A+"Transform"]="translate3d(0,"+s+"px,0)":j.top=s+"px",la[c]&&na(a,c),e&&b&&(a.closest(".dwwl").addClass("dwa"),la[c]=setTimeout(function(){na(a,c)},1E3*e)),Aa[c]=g)}function K(c,g,e){var c=a('.dw-li[data-val="'+c+'"]',g),g=a(".dw-li",g),b=g.index(c),s=g.length;if(!c.hasClass("dw-v")){for(var d=c,j=0,h=0;0<=b-j&&!d.hasClass("dw-v");)j++,d=g.eq(b-j);for(;b+h<s&&!c.hasClass("dw-v");)h++,c=g.eq(b+h);(h<j&&h&&2!==e||!j||0>b-j||1==e)&&c.hasClass("dw-v")?
b+=h:(c=d,b-=j)}return{cell:c,v:b,val:c.hasClass("dw-v")?c.attr("data-val"):null}}function R(e,b,s,j,h){!1!==d("validate",[n,b,e,j])&&(a(".dw-ul",n).each(function(s){var d=a(this),i=s==b||void 0===b,n=K(c.temp[s],d,j),f=n.cell;if(!f.hasClass("dw-sel")||i)c.temp[s]=n.val,g.multiple||(a(".dw-sel",d).removeAttr("aria-selected"),f.attr("aria-selected","true")),a(".dw-sel",d).removeClass("dw-sel"),f.addClass("dw-sel"),T(d,s,n.v,i?e:0.1,i?h:!1)}),ua=g.formatResult(c.temp),c.live&&p(s,s,0,!0),Ra.html(D(ua)),
s&&d("onChange",[ua]))}function d(g,e){var b;e.push(c);a.each([E,Oa,qa,L],function(a,c){c&&c[g]&&(b=c[g].apply(C,e))});return b}function f(e,b,s,d,j){var b=B(b,ya,sa),h=a(".dw-li",e).eq(b),i=void 0===j?b:j,n=void 0!==j,f=ma,ea=d?b==i?0.1:Math.abs((b-i)*g.timeUnit):0;c.temp[f]=h.attr("data-val");T(e,f,b,ea,n);setTimeout(function(){R(ea,f,!0,s,n)},10)}function Da(a){var c=Aa[ma]+1;f(a,c>sa?ya:c,1,!0)}function ta(a){var c=Aa[ma]-1;f(a,c<ya?sa:c,2,!0)}function p(a,e,b,s,j){Y&&!s&&R(b);ua=g.formatResult(c.temp);
j||(c.values=c.temp.slice(0),c.val=ua);a&&(d("onValueFill",[ua,e]),Pa&&(ea.val(ua),e&&(Ka=!0,ea.change())))}function e(a,g){var e;va.on(a,function(){clearTimeout(e);e=setTimeout(function(){(La&&g||!g)&&c.position(!g)},200)})}var Z,Ra,n,Sa,ia,Ma,va,Ba,wa,oa,ra,Y,x,qa,Ka,G,La,Oa,ua,S,Qa,M,Ja,Ca,j,$,fa,ja,pa,ba,Ga,J,za,ya,sa,ka,ma,Fa,Ha,U,s,c=this,ea=a(C),g,la={},Aa={},Ta={},Ia=[],Ua=[],Pa=ea.is("input");c.position=function(e){var b=ia.width(),s=va[0].innerHeight||va.innerHeight();if(!(Qa===b&&M===s&&
e)&&!G&&!1!==d("onPosition",[n,b,s])&&oa){var h,i,f,k,m,l,q,la,r,Aa=0,Ia=0,e=va.scrollLeft(),p=va.scrollTop();k=a(".dwwr",n);var o=a(".dw",n),x={};m=void 0===g.anchor?ea:g.anchor;wa&&"liquid"!==g.layout&&(400>b?n.addClass("dw-liq"):n.removeClass("dw-liq"));/modal|bubble/.test(g.display)&&(k.width(""),a(".dwc",n).each(function(){h=a(this).outerWidth(!0);Aa+=h;Ia=h>Ia?h:Ia}),h=Aa>b?Ia:Aa,k.width(h).css("white-space",Aa>b?"":"nowrap"));Ca=o.outerWidth();j=o.outerHeight(!0);La=j<=s&&Ca<=b;c.scrollLock=
La;"modal"==g.display?(i=Math.max(0,(b-Ca)/2),f=p+(s-j)/2):"bubble"==g.display?(r=!0,la=a(".dw-arrw-i",n),f=m.offset(),l=Math.abs(a(g.context).offset().top-f.top),q=Math.abs(a(g.context).offset().left-f.left),k=m.outerWidth(),m=m.outerHeight(),i=B(q-(o.outerWidth(!0)-k)/2-e,3,b-Ca-3),f=l-j,f<p||l>p+s?(o.removeClass("dw-bubble-top").addClass("dw-bubble-bottom"),f=l+m):o.removeClass("dw-bubble-bottom").addClass("dw-bubble-top"),la=la.outerWidth(),k=B(q+k/2-(i+(Ca-la)/2)-e,0,la),a(".dw-arr",n).css({left:k})):
"top"==g.display?f=p:"bottom"==g.display&&(f=p+s-j);x.top=0>f?0:f;x.left=i;o.css(x);ia.height(0);i=Math.max(f+j,"body"==g.context?a(document).height():Z.scrollHeight);ia.css({height:i,left:e});if(r&&(f+j>p+s||l>p+s))G=!0,setTimeout(function(){G=false},300),va.scrollTop(Math.min(f+j-s,i-s))}Qa=b;M=s};c.enable=function(){g.disabled=!1;Pa&&ea.prop("disabled",!1)};c.disable=function(){g.disabled=!0;Pa&&ea.prop("disabled",!0)};c.setValue=function(e,b,s,d,j){c.temp=a.isArray(e)?e.slice(0):g.parseValue.call(C,
e+"",c);p(b,void 0===j?b:j,s,!1,d)};c.getValue=function(){return c.values};c.getValues=function(){var a=[],e;for(e in c._selectedValues)a.push(c._selectedValues[e]);return a};c.changeWheel=function(e,b,s){if(n){var d=0,j=e.length;a.each(g.wheels,function(g,h){a.each(h,function(g,h){if(-1<a.inArray(d,e)&&(Ia[d]=h,a(".dw-ul",n).eq(d).html(ga(d)),j--,!j))return c.position(),R(b,void 0,s),!1;d++});if(!j)return!1})}};c.isVisible=function(){return Y};c.tap=function(a,c,e){var b,s;if(g.tap)a.on("touchstart.dw",
function(a){e&&a.preventDefault();b=y(a,"X");s=y(a,"Y")}).on("touchend.dw",function(a){20>Math.abs(y(a,"X")-b)&&20>Math.abs(y(a,"Y")-s)&&(a.preventDefault(),setTimeout(function(){c.call(this,a)},z?400:10));u()});a.on("click.dw",function(a){r||c.call(this,a);a.preventDefault()})};c.show=function(b,s){var j,f,i=0,la="";if(!g.disabled&&!Y){!1!==$&&("top"==g.display&&($="slidedown"),"bottom"==g.display&&($="slideup"));ha();d("onBeforeShow",[]);oa&&$&&!b&&(la="dw-"+$+" dw-in");f='<div class="'+g.theme+
" dw-"+g.display+(wa?" dw-liq":"")+(1<Fa?" dw-ml":"")+(Ba?"":" dw-nobtn")+'"><div class="dw-persp">'+(oa?'<div class="dwo"></div>':"")+"<div"+(oa?' role="dialog" tabindex="-1"':"")+' class="dw dwbg '+la+'">'+("bubble"===g.display?'<div class="dw-arrw"><div class="dw-arrw-i"><div class="dw-arr"></div></div></div>':"")+'<div class="dwwr"><div aria-live="assertive" class="dwv'+(g.headerText?"":" dw-hidden")+'"></div><div class="dwcc">';a.each(g.wheels,function(c,e){f=f+('<div class="dwc'+(g.mode!="scroller"?
" dwpm":" dwsc")+(g.showLabel?"":" dwhl")+'"><div class="dwwc"'+(g.maxWidth?"":' style="max-width:600px;"')+">"+(W?"":'<table class="dw-tbl" cellpadding="0" cellspacing="0"><tr>'));a.each(e,function(a,c){Ia[i]=c;j=c.label!==void 0?c.label:a;f=f+("<"+(W?"div":"td")+' class="dwfl" style="'+(g.fixedWidth?"width:"+(g.fixedWidth[i]||g.fixedWidth)+"px;":(g.minWidth?"min-width:"+(g.minWidth[i]||g.minWidth)+"px;":"min-width:"+g.width+"px;")+(g.maxWidth?"max-width:"+(g.maxWidth[i]||g.maxWidth)+"px;":""))+
'"><div class="dwwl dwwl'+i+'">'+(g.mode!="scroller"?'<a href="#" tabindex="-1" class="dwb-e dwwb dwwbp" style="height:'+x+"px;line-height:"+x+'px;"><span>+</span></a><a href="#" tabindex="-1" class="dwb-e dwwb dwwbm" style="height:'+x+"px;line-height:"+x+'px;"><span>&ndash;</span></a>':"")+'<div class="dwl">'+j+'</div><div tabindex="0" aria-live="off" aria-label="'+j+'" role="listbox" class="dwww"><div class="dww" style="height:'+g.rows*x+'px;"><div class="dw-ul">');f=f+(ga(i)+'</div></div><div class="dwwo"></div></div><div class="dwwol"'+
(g.selectedLineHeight?' style="height:'+x+"px;margin-top:-"+(x/2+(g.selectedLineBorder||0))+'px;"':"")+"></div></div>"+(W?"</div>":"</td>"));i++});f=f+((W?"":"</tr></table>")+"</div></div>")});f+="</div>";oa&&Ba&&(f+='<div class="dwbc">',a.each(U,function(a,e){e=typeof e==="string"?c.buttons[e]:e;f=f+("<span"+(g.btnWidth?' style="width:'+100/U.length+'%"':"")+' class="dwbw '+e.css+'"><a href="#" class="dwb dwb'+a+' dwb-e" role="button">'+e.text+"</a></span>")}),f+="</div>");f+="</div></div></div></div>";
n=a(f);ia=a(".dw-persp",n);Sa=a(".dwo",n);Ra=a(".dwv",n);Ma=a(".dw",n);Ta={};Y=!0;R();d("onMarkupReady",[n]);if(oa){if(o.activeInstance=c,n.appendTo(g.context),l&&$&&!b)n.addClass("dw-trans").on(m,function(){n.removeClass("dw-trans").find(".dw").removeClass(la);s||Ma.focus()})}else ea.is("div")?ea.html(n):n.insertAfter(ea);d("onMarkupInserted",[n]);if(oa){a(window).on("keydown.dw",function(a){a.keyCode==13?c.select():a.keyCode==27&&c.cancel()});if(g.scrollLock)n.on("touchmove",function(a){La&&a.preventDefault()});
"Moz"!==A&&a("input,select,button",Z).each(function(){this.disabled||a(this).addClass("dwtd").prop("disabled",true)});e("scroll.dw",!0)}c.position();e("orientationchange.dw resize.dw",!1);n.on("DOMMouseScroll mousewheel",".dwwl",Ea).on("keydown",".dwwl",ca).on("keyup",".dwwl",t).on("selectstart mousedown",q).on("click",".dwb-e",q).on("keydown",".dwb-e",function(c){if(c.keyCode==32){c.preventDefault();c.stopPropagation();a(this).click()}});setTimeout(function(){a.each(U,function(e,g){c.tap(a(".dwb"+
e,n),function(a){g=typeof g==="string"?c.buttons[g]:g;g.handler.call(this,a,c)},true)});g.closeOnOverlay&&c.tap(Sa,function(){c.cancel()});oa&&!$&&!s&&Ma.focus();n.on("touchstart mousedown",".dwwl",xa).on("touchmove",".dwwl",k).on("touchend",".dwwl",h).on("touchstart mousedown",".dwb-e",Q).on("touchend",".dwb-e",F)},300);d("onShow",[n,ua])}};c.hide=function(c,e,g){if(!Y||!g&&!1===d("onClose",[ua,e]))return!1;"Moz"!==A&&a(".dwtd",Z).each(function(){a(this).prop("disabled",!1).removeClass("dwtd")});
if(n){if(l&&oa&&$&&!c&&!n.hasClass("dw-trans"))n.addClass("dw-trans").find(".dw").addClass("dw-"+$+" dw-out").on(m,function(){O(c)});else O(c);va.off(".dw")}delete o.activeInstance};c.select=function(){!1!==c.hide(!1,"set")&&(p(!0,!0,0,!0),d("onSelect",[c.val]))};c.cancel=function(){!1!==c.hide(!1,"cancel")&&d("onCancel",[c.val])};c.attachShow=function(e,s){Ua.push(e);if("inline"!==g.display)e.on("mousedown.dw",q).on((g.showOnFocus?"focus.dw":"")+(g.showOnTap?" click.dw":""),function(g){if(("focus"!==
g.type||"focus"===g.type&&!b)&&!r)s&&s(),a(document.activeElement).is("input,textarea")&&a(document.activeElement).blur(),P=e,c.show();setTimeout(function(){b=!1},300)})};c.init=function(e){H(L,e);g=H({},Va,E,L);Oa=o.themes[g.theme];fa=o.i18n[g.lang];d("onThemeLoad",[fa,L]);H(g,Oa,fa,E,L);g.buttons=g.buttons||["set","cancel"];g.headerText=void 0===g.headerText?"inline"!==g.display?"{value}":!1:g.headerText;c.settings=g;ea.off(".dw");if(e=o.presets[g.preset])qa=e.call(C,c),H(g,qa,L);Ja=Math.floor(g.rows/
2);x=g.height;$=z?!1:g.animate;Fa=g.multiline;wa="liquid"===(g.layout||(/top|bottom/.test(g.display)&&1==g.wheels.length?"liquid":""));oa="inline"!==g.display;U=g.buttons;va=a("body"==g.context?window:g.context);Z=a(g.context)[0];g.setText||U.splice(a.inArray("set",U),1);g.cancelText||U.splice(a.inArray("cancel",U),1);g.button3&&U.splice(a.inArray("set",U)+1,0,{text:g.button3Text,handler:g.button3});c.context=va;c.live=!oa||-1==a.inArray("set",U);c.buttons.set={text:g.setText,css:"dwb-s",handler:c.select};
c.buttons.cancel={text:c.live?g.closeText:g.cancelText,css:"dwb-c",handler:c.cancel};c.buttons.clear={text:g.clearText,css:"dwb-cl",handler:function(){c.trigger("onClear",[n]);ea.val("");c.live||c.hide(!1,"clear")}};Ba=0<U.length;Y&&c.hide(!0,!1,!0);oa?(ha(),Pa&&(void 0===S&&(S=C.readOnly),C.readOnly=!0),c.attachShow(ea)):c.show();if(Pa)ea.on("change.dw",function(){Ka||c.setValue(ea.val(),false,0.2);Ka=false})};c.option=function(a,e){var g={};"object"===typeof a?g=a:g[a]=e;c.init(g)};c.destroy=function(){c.hide(!0,
!1,!0);a.each(Ua,function(a,c){c.off(".dw")});Pa&&(C.readOnly=S);delete i[C.id];d("onDestroy",[])};c.getInst=function(){return c};c.getValidCell=K;c.trigger=d;i[C.id]=c;c.values=null;c.val=null;c.temp=null;c.buttons={};c._selectedValues={};c.init(L)};var P,w,r,b,o=a.mobiscroll,i=o.instances,ca=o.util,A=ca.jsPrefix,l=ca.has3d,W=ca.hasFlex,y=ca.getCoord,I=ca.testTouch,q=function(a){a.preventDefault()},H=a.extend,m="webkitAnimationEnd animationend",E=o.userdef,z=/android [1-3]/i.test(navigator.userAgent),
Va=H(o.defaults,{setText:"Set",selectedText:"Selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",minWidth:80,height:40,rows:3,multiline:1,delay:300,disabled:!1,readonly:!1,closeOnOverlay:!0,showOnFocus:!0,showOnTap:!0,showLabel:!0,wheels:[],theme:"",display:"modal",mode:"scroller",preset:"",context:"body",scrollLock:!0,tap:!0,btnWidth:!0,speedUnit:0.0012,timeUnit:0.1,formatResult:function(a){return a.join(" ")},parseValue:function(b,i){var m=b.split(" "),k=[],h=0,l;a.each(i.settings.wheels,
function(b,i){a.each(i,function(b,i){i=i.values?i:V(i);l=i.keys||i.values;-1!==a.inArray(m[h],l)?k.push(m[h]):k.push(l[0]);h++})});return k}});a(window).on("focus",function(){P&&(b=!0)});a(document).on("mouseover mouseup mousedown click",function(a){if(r)return a.stopPropagation(),a.preventDefault(),!1})})(jQuery);(function(a){a.mobiscroll.themes.ios7={dateOrder:"MMdyy",rows:5,height:34,minWidth:55,headerText:!1,showLabel:!1,btnWidth:!1,selectedLineHeight:!0,selectedLineBorder:1,useShortLabels:!0}})(jQuery);(function(a){var u=a.mobiscroll,B=u.util,V=B.has3d,P=B.jsPrefix,w=B.getCoord,r=B.testTouch,b="webkitTransitionEnd transitionend",o={controls:["calendar"],firstDay:0,maxMonthWidth:170,months:1,preMonths:1,highlight:!0,swipe:!0,liveSwipe:!0,divergentDayChange:!0,navigation:"yearMonth",dateText:"Date",timeText:"Time",calendarText:"Calendar",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"};u.presets.calbase=function(i){function u(e,c,b){var g,
f,d,h,n={},m=J+Ka;e&&(e=i.convert(e),a.each(e,function(a,e){g=e.d||e.start||e;f=g+"";if(e.start&&e.end)for(h=new Date(e.start);h<=e.end;)d=(new Date(h.getFullYear(),h.getMonth(),h.getDate())).getTime(),n[d]=n[d]||[],n[d].push(e),h.setDate(h.getDate()+1);else if(g.getTime)d=(new Date(g.getFullYear(),g.getMonth(),g.getDate())).getTime(),n[d]=n[d]||[],n[d].push(e);else if(f.match(/w/i)){var s=+f.replace("w",""),i=0,k=(new Date(c,b-J-G,1)).getDay();1<j.firstDay-k+1&&(i=7);for(Q=0;Q<5*qa;Q++)d=(new Date(c,
b-J-G,7*Q-i-k+1+s)).getTime(),n[d]=n[d]||[],n[d].push(e)}else if(f=f.split("/"),f[1])11<=b+m&&(d=(new Date(c+1,f[0]-1,f[1])).getTime(),n[d]=n[d]||[],n[d].push(e)),1>=b-m&&(d=(new Date(c-1,f[0]-1,f[1])).getTime(),n[d]=n[d]||[],n[d].push(e)),d=(new Date(c,f[0]-1,f[1])).getTime(),n[d]=n[d]||[],n[d].push(e);else for(Q=0;Q<qa;Q++)d=(new Date(c,b-J-G+Q,f[0])).getTime(),n[d]=n[d]||[],n[d].push(e)}));return n}function A(a,c){va=u(j.invalid,a,c);i.onGenMonth(a,c)}function l(e,c){var b,g,d,h,n,m,k,l,Z,q,p=
1,r=0;h=new Date(e,c,1);var o=h.getFullYear(),x=h.getMonth(),w=i.getDate(!0),v=(new Date(o,x,1)).getDay(),t='<div class="dw-cal-table">',y='<div class="dw-week-nr-c">';1<j.firstDay-v+1&&(r=7);for(q=0;42>q;q++)Z=q+j.firstDay-r,b=new Date(o,x,Z-v+1),g=b.getFullYear(),d=b.getMonth(),h=b.getDate(),n=g+"-"+d+"-"+h,m=a.extend({valid:b<new Date(f.getFullYear(),f.getMonth(),f.getDate())||b>Da?!1:void 0===va[b.getTime()],selected:w.getFullYear()===g&&w.getMonth()===d&&w.getDate()===h},i.getDayProps(b,w)),
k=m.valid,l=m.selected,g=m.cssClass,d=d!==x,Ja[n]=m,0===q%7&&(t+=(q?"</div>":"")+'<div class="dw-cal-row'+(j.highlight&&0<=w-b&&6048E5>w-b?" dw-cal-week-hl":"")+'">',$&&("month"==$&&d&&q?p=1==h?1:2:"year"==$&&(p=b,p=new Date(p),p.setHours(0,0,0),p.setDate(p.getDate()+4-(p.getDay()||7)),b=new Date(p.getFullYear(),0,1),p=Math.ceil(((p-b)/864E5+1)/7)),y+='<div class="dw-week-nr"><div class="dw-week-nr-i">'+p+"</div></div>",p++)),t+='<div role="button" tabindex="-1" class="dw-cal-day '+(j.dayClass||"")+
(l?" dw-sel":"")+(g?" "+g:"")+(d?" dw-cal-day-diff":"")+(k?" dw-cal-day-v dwb-e dwb-nhl":" dw-cal-day-inv")+'" data-day="'+Z%7+'" data-full="'+n+'"'+(l?' aria-selected="true"':"")+(k?"":' aria-disabled="true"')+'><div class="dw-i '+(l?ma:"")+" "+(k?j.validDayClass||"":"")+'"><div class="dw-cal-day-fg">'+h+"</div>"+(m.markup||"")+'<div class="dw-cal-day-frame"></div></div></div>';return t+("</div>"+y+"</div></div>")}function W(e,c){for(h=0;h<x;++h)a(T[h]).text(na[(new Date(e,c-G+h)).getMonth()]),1<
K.length&&a(K[h]).text((new Date(e,c-G+h)).getFullYear());1==K.length&&K.text(e);new Date(e,c-G-1,1)<R?a(".dw-cal-prev-m",t).addClass(U).attr("aria-disabled","true"):a(".dw-cal-prev-m",t).removeClass(U).removeAttr("aria-disabled");new Date(e,c+x-G,1)>d?a(".dw-cal-next-m",t).addClass(U).attr("aria-disabled","true"):a(".dw-cal-next-m",t).removeClass(U).removeAttr("aria-disabled");(new Date(e,c,1)).getFullYear()<=R.getFullYear()?a(".dw-cal-prev-y",t).addClass(U).attr("aria-disabled","true"):a(".dw-cal-prev-y",
t).removeClass(U).removeAttr("aria-disabled");(new Date(e,c,1)).getFullYear()>=d.getFullYear()?a(".dw-cal-next-y",t).addClass(U).attr("aria-disabled","true"):a(".dw-cal-next-y",t).removeClass(U).removeAttr("aria-disabled")}function y(b){if(M.calendar&&"calendar"===wa){var c,d,g=new Date(p,e),f=Math.abs(12*(b.getFullYear()-p)+b.getMonth()-e);i.needsSlide&&f&&(p=b.getFullYear(),e=b.getMonth(),b>g?(d=f>J-G+x-1,e-=d?0:f-J,c="next"):b<g&&(d=f>J+G,e+=d?0:f-J,c="prev"),q.call(this,p,e,c,Math.min(f,J),d,
!0));i.trigger("onDayHighlight",[b]);j.highlight&&(a(".dw-cal .dw-sel .dw-i",t).removeClass(ma),a(".dw-cal .dw-sel",t).removeClass("dw-sel").removeAttr("aria-selected"),a(".dw-cal-week-hl",t).removeClass("dw-cal-week-hl"),a('.dw-cal .dw-cal-day[data-full="'+b.getFullYear()+"-"+b.getMonth()+"-"+b.getDate()+'"]',t).addClass("dw-sel").attr("aria-selected","true").parent().addClass("dw-cal-week-hl"),a(".dw-cal .dw-sel .dw-i",t).addClass(ma));i.needsSlide=!0}}function I(a,c,e,b){b||A(a,c);for(h=0;h<qa;h++)S[h].html(l(a,
c-G-J+h));i.needsRefresh=!1}function q(b,c,d,g,f,j,n){b&&Qa.push({y:b,m:c,dir:d,slideNr:g,load:f,active:j,callback:n});if(!ra){var k=Qa.shift(),b=k.y,c=k.m,d="next"===k.dir,g=k.slideNr,f=k.load,j=k.active,n=k.callback||Ca,k=new Date(b,c,1),b=k.getFullYear(),c=k.getMonth();ra=!0;i.changing=!0;i.trigger("onMonthChange",[b,c]);A(b,c);if(f)for(h=0;h<x;h++)S[d?qa-x+h:h].html(l(b,c-G+h));j&&ua.addClass("dw-cal-slide-a");setTimeout(function(){m(d?N-v*g*ba:N+v*g*ba,200,function(){var j;ua.removeClass("dw-cal-slide-a");
if(d){j=S.splice(0,g);for(h=0;h<g;h++)S.push(j[h]),E(S[S.length-1],+S[S.length-2].data("curr")+100*ba)}else{j=S.splice(qa-g,g);for(h=g-1;0<=h;h--)S.unshift(j[h]),E(S[0],+S[1].data("curr")-100*ba)}for(h=0;h<g;h++)S[d?qa-g+h:h].html(l(b,c-G-J+h+(d?qa-g:0))),f&&S[d?h:qa-g+h].html(l(b,c-G-J+h+(d?0:qa-g)));for(h=0;h<x;h++)S[J+h].addClass("dw-cal-slide-a");ra=!1;W(b,c);Qa.length?setTimeout(function(){q()},10):(p=b,e=c,i.changing=!1,$&&aa.html(a(".dw-week-nr-c",S[J]).html()),a(".dw-cal-day",t).attr("tabindex",
-1),a(".dw-cal-slide-a .dw-cal-day",t).attr("tabindex",0),i.needsRefresh&&z(),i.trigger("onMonthLoaded",[b,c]),n())})},10)}}function H(){var b=a(this),c=i.live,d=i.getDate(!0),g=b.attr("data-full"),f=g.split("-"),f=new Date(f[0],f[1],f[2]),h=b.hasClass("dw-sel");if((La||!b.hasClass("dw-cal-day-diff"))&&!1!==i.trigger("onDayChange",[a.extend(Ja[g],{date:f,cell:this,selected:h})]))i.needsSlide=!1,i.setDate(new Date(f.getFullYear(),f.getMonth(),f.getDate(),d.getHours(),d.getMinutes(),d.getSeconds()),
c,0.2,!c,!0),j.divergentDayChange&&(Y=!0,f<new Date(p,e-G,1)?C():f>new Date(p,e-G+x,0)&&B(),Y=!1)}function m(a,c,e){a=Math.max(N-v*J,Math.min(a,N+v*J));da[0].style[P+"Transition"]="all "+(c||0)+"ms";if(V){if(e)if(ga==a)e();else da.on(b,function(){da.off(b);e()});da[0].style[P+"Transform"]="translate3d("+a+"px,0,0)"}else e&&setTimeout(e,c),da[0].style.left=a+"px";c&&(N=a);ga=a}function E(a,c){a.data("curr",c);V?a[0].style[P+"Transform"]="translate3d("+c+"%,0,0)":a[0].style.left=c+"%"}function z(){i.isVisible()&&
M.calendar&&I(p,e)}function B(){Y&&new Date(p,e+x-G,1)<=d&&q(p,++e,"next",1,!1,!0,B)}function C(){Y&&new Date(p,e-G-1,1)>=R&&q(p,--e,"prev",1,!1,!0,C)}function L(a){Y&&new Date(p,e,1)<=new Date(d.getFullYear()-1,d.getMonth()-Ka,1)?q(++p,e,"next",J,!0,!0,function(){L(a)}):Y&&!a.hasClass("dwb-d")&&q(d.getFullYear(),d.getMonth()-Ka,"next",J,!0,!0)}function xa(a){Y&&new Date(p,e,1)>=new Date(R.getFullYear()+1,R.getMonth()+G,1)?q(--p,e,"prev",J,!0,!0,function(){xa(a)}):Y&&!a.hasClass("dwb-d")&&q(R.getFullYear(),
R.getMonth()+G,"prev",J,!0,!0)}var k,h,Q,F,X,t,Ea,O,da,v,ga,N,D,ha,aa,na,T,K,R,d,f,Da,ta,p,e,Z,Ra,n,Sa,ia,Ma,va,Ba,wa,oa,ra,Y,x,qa,Ka,G,La,Oa=this,ua=[],S=[],Qa=[],M={},Ja={},Ca=function(){};F=a.extend({},i.settings);var j=a.extend(i.settings,o,F),$=j.weekCounter;F=j.layout||(/top|bottom/.test(j.display)?"liquid":"");var fa="liquid"==F&&"bubble"!==j.display,ja="modal"==j.display,pa=j.rtl,ba=pa?-1:1,Ga=fa?null:j.calendarWidth,J=j.preMonths,za="yearMonth"==j.navigation,ya=j.controls.join(","),sa=(!0===
j.tabs||!1!==j.tabs&&fa)&&1<j.controls.length,ka=!sa&&void 0===j.tabs&&!fa&&1<j.controls.length,ma=j.activeClass||"",Fa="dw-sel "+(j.activeTabClass||""),Ha=j.activeTabInnerClass||"",U="dwb-d "+(j.disabledClass||"");ya.match(/calendar/)&&(M.calendar=1);ya.match(/date/)&&(M.date=1);ya.match(/time/)&&(M.time=1);M.calendar&&M.date&&(sa=!0,ka=!1);j.layout=F;j.preset=(M.date||M.calendar?"date":"")+(M.time?"time":"");if("inline"==j.display)a(this).closest('[data-role="page"]').on("pageshow",function(){i.position()});
i.changing=!1;i.needsRefresh=!1;i.needsSlide=!0;i.getDayProps=Ca;i.onGenMonth=Ca;i.prepareObj=u;i.refresh=function(){i.changing?i.needsRefresh=true:z()};F=a.mobiscroll.presets.datetime.call(this,i);ia=F.validate;a.extend(F,{onMarkupReady:function(b){var c,l,g="",o=j.dateOrder.search(/m/i),A=j.dateOrder.search(/y/i);t=b;Ea=j.display=="inline"?a(this).is("div")?a(this):a(this).parent():i.context;ta=i.getDate(true);p=ta.getFullYear();e=ta.getMonth();ga=N=0;ha=true;ra=false;na=j.monthNames;wa="calendar";
if(j.minDate){R=new Date(j.minDate.getFullYear(),j.minDate.getMonth(),1);f=j.minDate}else f=R=new Date(j.startYear,0,1);if(j.maxDate){d=new Date(j.maxDate.getFullYear(),j.maxDate.getMonth(),1);Da=j.maxDate}else Da=d=new Date(j.endYear,11,31,23,59,59);b.addClass("dw-calendar"+(V?"":" dw-cal-no3d"));X=a(".dw",b);Ba=a(".dwcc",b);M.date?M.date=a(".dwc",t).eq(0):M.calendar&&a(".dwc",t).eq(0).addClass("dwc-hh");if(M.time)M.time=a(".dwc",t).eq(1);if(M.calendar){x=j.months=="auto"?Math.max(1,Math.min(3,Math.floor((Ga||
Ea.width())/280))):j.months;qa=x+2*J;Ka=Math.floor(x/2);G=Math.round(x/2)-1;La=j.showDivergentDays===void 0?x<2:j.showDivergentDays;l='<div class="dw-cal-btnw"><div class="'+(pa?"dw-cal-next-m":"dw-cal-prev-m")+' dw-cal-prev dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt">'+j.prevMonthText+"</a></div>";for(h=0;h<x;++h)l=l+((!za&&A<o?'<span aria-live="assertive" class="dw-cal-year"></span>&nbsp;':"")+'<div class="dw-cal-btnw-m" style="width: '+100/x+'%"><span aria-live="assertive" class="dw-cal-month"></span>'+
(!za&&A>o?'&nbsp;<span aria-live="assertive" class="dw-cal-year"></span>':"")+"</div>");l=l+('<div class="'+(pa?"dw-cal-prev-m":"dw-cal-next-m")+' dw-cal-next dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt">'+j.nextMonthText+"</a></div></div>");za&&(g='<div class="dw-cal-btnw"><div class="'+(pa?"dw-cal-next-y":"dw-cal-prev-y")+' dw-cal-prev dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt">'+j.prevYearText+'</a></div><span aria-live="assertive" class="dw-cal-year"></span><div class="'+
(pa?"dw-cal-prev-y":"dw-cal-next-y")+' dw-cal-next dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt">'+j.nextYearText+"</a></div></div>");D='<div class="dwc dw-cal-c"><div class="dw-cal '+(x>1?" dw-cal-multi ":"")+($?" dw-weeks ":"")+(pa?" dw-cal-rtl ":"")+(La?"":" dw-hide-diff ")+(j.calendarClass||"")+'"><div class="dw-cal-header"><div class="dw-cal-btnc '+(za?"dw-cal-btnc-ym":"dw-cal-btnc-m")+'">'+(A<o||x>1?g+l:l+g)+'</div><div class="dw-cal-days-c">';for(Q=0;Q<x;++Q){D=D+('<div class="dw-cal-days" style="width: '+
100/x+'%"><table cellpadding="0" cellspacing="0"><tr>');for(h=0;h<7;h++)D=D+("<th>"+j.dayNamesShort[(h+j.firstDay)%7]+"</th>");D=D+"</tr></table></div>"}D=D+('</div></div><div class="dw-cal-anim-c '+(j.calendarClass||"")+'"><div class="dw-week-nrs-c '+(j.weekNrClass||"")+'"><div class="dw-week-nrs"></div></div><div class="dw-cal-anim">');for(h=0;h<x+2*J;h++)D=D+'<div class="dw-cal-slide"></div>';D=D+"</div></div></div></div>";M.calendar=a(D)}a.each(j.controls,function(c,e){M[e]=a('<div class="dw-cal-pnl" id="'+
(Oa.id+"_dw_pnl_"+c)+'"></div>').append(a('<div class="dw-cal-pnl-i"></div>').append(M[e])).appendTo(Ba)});c='<div class="dw-cal-tabs"><ul role="tablist">';a.each(j.controls,function(a,e){M[e]&&(c=c+('<li role="tab" aria-controls="'+(Oa.id+"_dw_pnl_"+a)+'" class="dw-cal-tab '+(a?"":Fa)+'" data-control="'+e+'"><a href="#" class="dwb-e dwb-nhl dw-i '+(!a?Ha:"")+'">'+j[e+"Text"]+"</a></li>"))});c=c+"</ul></div>";Ba.before(c);O=a(".dw-cal-anim-c",t);da=a(".dw-cal-anim",t);if(M.calendar){ua=a(".dw-cal-slide",
t).each(function(c,e){S.push(a(e))});ua.slice(J,J+x).addClass("dw-cal-slide-a");for(h=0;h<qa;h++)E(S[h],100*(h-J)*ba);I(p,e);a(".dw-cal-slide-a .dw-cal-day",t).attr("tabindex",0);aa=a(".dw-week-nrs",t).html(a(".dw-week-nr-c",S[J]).html())}T=a(".dw-cal-month",t);K=a(".dw-cal-year",t);setTimeout(function(){i.tap(O,function(c){c=a(c.target);if(!ra&&!Ma){for(;!c.hasClass("dw-cal-day")&&!c.hasClass("dw-cal-row");)c=c.parent();c.hasClass("dw-cal-day-v")&&H.call(c[0])}});a(".dw-cal-btn",t).on("touchstart mousedown keydown",
function(c){var e=a(this);if(c.type!=="keydown"){c.preventDefault();c=r(c)}else c=c.keyCode===32;if(!Y&&c&&!e.hasClass("dwb-d")){Y=true;e.hasClass("dw-cal-prev-m")?C():e.hasClass("dw-cal-next-m")?B():e.hasClass("dw-cal-prev-y")?xa(e):e.hasClass("dw-cal-next-y")&&L(e);a(document).on("mouseup.dwbtn",function(){a(document).off(".dwbtn");Y=false})}}).on("touchend touchcancel keyup",function(){Y=false});a(".dw-cal-tab",t).on("touchstart click",function(c){var e=a(this);if(r(c)&&!e.hasClass("dw-sel")){wa=
e.attr("data-control");a(".dw-cal-pnl",t).addClass("dw-cal-pnl-h");a(".dw-cal-tab",t).removeClass(Fa).removeAttr("aria-selected").find(".dw-i").removeClass(Ha);e.addClass(Fa).attr("aria-selected","true").find(".dw-i").addClass(Ha);M[wa].removeClass("dw-cal-pnl-h");if(wa==="calendar"){k=i.getDate(true);(k.getFullYear()!==ta.getFullYear()||k.getMonth()!==ta.getMonth()||k.getDate()!==ta.getDate())&&y(k)}else{ta=i.getDate(true);i.setDate(ta,false,0,true)}i.trigger("onTabChange",[wa])}})},300);fa?b.addClass("dw-cal-liq"):
a(".dw-cal",t).width(Ga||280*x);j.calendarHeight&&a(".dw-cal-anim-c",t).height(j.calendarHeight);if(j.swipe){var sa,z,F,u,U,ia,ca,W,ma=j.liveSwipe,ya=window.requestAnimationFrame||function(a){a()},va=window.cancelAnimationFrame||Ca,ka=function(a){if(!W&&!ra){oa=true;Ma=false;W=true;F=new Date;N=ga;Z=w(a,"X");Ra=w(a,"Y")}},P=function(){U=W=false;if(ca){ca=false;va(sa);z=false;u=new Date-F;ia=(u<300&&Math.abs(n-Z)>50?n-Z<0?-J:J:Math.round((ga-N)/v))*ba;ia>0&&new Date(p,e-ia-G,1)>=R?q(p,e-ia,"prev",
ia):ia<0&&new Date(p,e-ia+x-G-1,1)<=d?q(p,e-ia,"next",-ia):ma&&m(N,200)}},ja=function(a){ra&&a.preventDefault();if(W){n=w(a,"X");Sa=w(a,"Y");if(!ca&&!U)if(Math.abs(n-Z)>7)Ma=ca=true;else if(!i.scrollLock&&Math.abs(Sa-Ra)>10){Ma=U=true;a.type==="touchmove"&&O.trigger("touchend")}ca&&a.preventDefault();if(ca&&ma&&!z){z=true;sa=ya(Ja)}}},Ja=function(){m(N+n-Z);z=false};O.on("touchstart",ka).on("touchmove",ja).on("touchend touchcancel",P).on("mousedown",function(c){if(!oa){ka(c);a(document).on("mousemove.dwsw",
ja).on("mouseup.dwsw",function(){P();a(document).off("dwsw")})}oa=false})}},onShow:function(){W(p,e);i.trigger("onMonthLoaded",[p,e])},onPosition:function(b,c,d){var g,f,n,k=0,l=0,Z=0;if(fa&&ja){O.height("");Ba.height("")}if(sa&&ha||ka||fa){a(".dw-cal-pnl",t).removeClass("dw-cal-pnl-h");fa&&da.width("");a.each(M,function(a,c){g=c.width();k=Math.max(k,g);l=Math.max(l,c.height());Z=Z+g});if(sa||ka&&Z>Ea.width()){f=true;wa=a(".dw-cal-tabs .dw-sel",t).attr("data-control");X.addClass("dw-cal-tabbed")}else{wa=
"calendar";l=k="";X.removeClass("dw-cal-tabbed")}}if(fa&&ja){f&&Ba.height(M.calendar.height());b=X.outerHeight();d>=b&&O.height(d-b+O.height());l=Math.max(l,M.calendar.height())}f&&Ba.css({width:fa?"":k,height:l});v&&(n=v);if(v=Math.round(Math.round(O.width())/x)){da.width(v);if(fa&&!ha&&n){d=N/n;N=d*v;m(N,0)}if(za){na=j.maxMonthWidth>a(".dw-cal-btnw-m",t).width()?j.monthNamesShort:j.monthNames;for(h=0;h<x;++h)a(T[h]).text(na[(new Date(p,e-G+h)).getMonth()])}if(f){a(".dw-cal-pnl",t).addClass("dw-cal-pnl-h");
M[wa].removeClass("dw-cal-pnl-h")}}i.trigger("onCalResize",[]);ha=false},onClose:function(){S=[];wa=null;ra=true},validate:function(a,c){ia.call(this,a,c);i.trigger("onSetDate",[]);y(i.getDate(true))}});return F}})(jQuery);(function(a){var u=a.mobiscroll,B=u.util,V=B.getCoord,P=B.has3d,w=B.jsPrefix,r={firstSelectDay:0,eventText:"event",eventsText:"events"};u.presetShort("calendar");u.presets.calendar=function(b){function o(b){if(b){if(da[b])return da[b];var f=a('<div style="background-color:'+b+';"></div>').appendTo("body"),h=(window.getComputedStyle?getComputedStyle(f[0]):f[0].style).backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),h=130<0.299*h[0]+0.587*h[1]+0.114*h[2]?"#000":"#fff";f.remove();return da[b]=
h}}function i(d,f){var i=m[d.getTime()];if(i){var r,p;p=a(".dw-cal-c",y).height();var e=f.height(),Z=f.width(),w=f.offset().top-a(".dw-cal-c",y).offset().top,n=2>f.closest(".dw-cal-row").index(),t='<ul class="dw-cal-event-list">';h=0;F=!1;H=f;f.addClass(ga).find(".dw-i").addClass(N);a.each(i,function(a,e){r=e.color;o(r);t+='<li class="dw-cal-event"><div class="dw-cal-event-color" style="'+(r?"background:"+r+";":"")+'"></div>'+e.text+"</li>"});t+="</ul>";z.html(t);b.trigger("onEventBubbleShow",[H,
q]);p=q.addClass("dw-cal-events-t").css({top:n?w+e:"0",bottom:n?"0":p-w}).addClass("dw-cal-events-v").height();k=p-z.height();q.css(n?"bottom":"top","auto").removeClass("dw-cal-events-t");E.css("max-height",p);l(0);n?q.addClass("dw-cal-events-b"):q.removeClass("dw-cal-events-b");a(".dw-cal-events-arr",q).css("left",f.offset().left-q.offset().left+Z/2);b.tap(a(".dw-cal-event",z),function(e){F||b.trigger("onEventSelect",[e,i[a(this).index()],d])});B=!0}}function u(){q&&q.removeClass("dw-cal-events-v");
H&&H.removeClass(ga).find(".dw-i").removeClass(N);B=!1}function A(){K&&u();b.refresh()}function l(a){P?z[0].style[w+"Transform"]="translateY("+a+"px)":z.css("top",a)}var W,y,I,q,H,m,E,z,B,C,L,xa,k,h,Q,F,X,t,Ea,O,da={};C=a.extend({},b.settings);var v=a.extend(b.settings,r,C),ga="dw-sel dw-cal-day-ev",N=v.activeClass||"",D=v.multiSelect||"week"==v.selectType,ha=v.markedDisplay,aa=!0===v.events||!0===v.markedText,na=0,T=[],K=a.isArray(v.events),R=K?a.extend(!0,[],v.events):[];Q=a.mobiscroll.presets.calbase.call(this,
b);W=a.extend({},Q);if(v.selectedValues)for(C=0;C<v.selectedValues.length;C++)L=v.selectedValues[C],b._selectedValues[L]=L;K&&a.each(R,function(a,b){b._id=na++});b.onGenMonth=function(a,f){m=b.prepareObj(R,a,f);xa=b.prepareObj(v.marked,a,f)};b.getDayProps=function(d){var f,h=new Date;f=d.getTime();var d=D?void 0!==b._selectedValues[d]:K?f===h.setHours(0,0,0,0):void 0,i=xa[f]?xa[f][0]:!1,k=m[f]?m[f][0]:!1,h=i||k,i=i.text||(aa&&k?m[f].length+" "+(1<m[f].length?v.eventsText:v.eventText):0),k=xa[f]||
[],e="",l=h.color,q=aa&&i?o(l):"";for(f=0;f<k.length;f++)k[f].icon&&(e+='<span class="mbsc-ic mbsc-ic-'+k[f].icon+'"'+(k[f].color?' style="color:'+k[f].color+';"':"")+"></span>\n");return{marked:h,selected:K?!1:d,cssClass:K&&d?"dw-cal-day-hl":"",markup:aa&&i?'<div class="dw-cal-day-txt-c"><div class="dw-cal-day-txt '+(v.eventTextClass||"")+'" title="'+a("<div>"+i+"</div>").text()+'"'+(l?' style="background:'+l+";color:"+q+';text-shadow:none;"':"")+">"+e+i+"</div></div>":aa&&e?'<div class="dw-cal-day-ic-c">'+
e+"</div>":h?'<div class="dw-cal-day-m"'+(l?' style="background-color:'+l+";border-color:"+l+" "+l+' transparent transparent"':"")+"></div>":""}};b.addValue=function(a){b._selectedValues[a]=a;A()};b.removeValue=function(a){delete b._selectedValues[a];A()};b.setValues=function(a){var f=0;b._selectedValues={};for(f;f<a.length;f++)b._selectedValues[a[f]]=a[f];A()};K&&(b.addEvent=function(b){var f=[],b=a.extend(!0,[],a.isArray(b)?b:[b]);a.each(b,function(a,b){b._id=na++;R.push(b);f.push(b._id)});A();
return f},b.removeEvent=function(b){b=a.isArray(b)?b:[b];a.each(b,function(b,d){a.each(R,function(a,b){if(b._id===d)return R.splice(a,1),!1})});A()},b.getEvents=function(){return R},b.setEvents=function(b){var f=[];R=a.extend(!0,[],b);a.each(R,function(a,b){b._id=na++;f.push(b._id)});A();return f});a.extend(Q,{highlight:!D&&!K,divergentDayChange:!D&&!K,buttons:K?["cancel"]:v.buttons,onClear:function(){if(D){b._selectedValues={};b.refresh()}},onBeforeShow:function(){if(K)v.headerText=false;if(v.closeOnSelect)v.divergentDayChange=
false;if(v.counter&&D)v.headerText=function(){var d=0,f=v.selectType=="week"?7:1;a.each(b._selectedValues,function(){d++});return d/f+" "+v.selectedText}},onMarkupReady:function(d){W.onMarkupReady.call(this,d);y=d;if(D){a(".dwv",d).attr("aria-live","off");T=a.extend({},b._selectedValues)}aa&&a(".dw-cal",d).addClass("dw-cal-ev");ha&&a(".dw-cal",d).addClass("dw-cal-m-"+ha);if(K){d.addClass("dw-cal-em");q=a('<div class="dw-cal-events '+(v.eventBubbleClass||"")+'"><div class="dw-cal-events-arr"></div><div class="dw-cal-events-i"><div class="dw-cal-events-sc"></div></div></div>').appendTo(a(".dw-cal-c",
d));E=a(".dw-cal-events-i",q);z=a(".dw-cal-events-sc",q);q.on("touchstart mousedown",function(b){if(k<0){Ea=b.type==="touchstart";F=false;X=h;t=V(b,"Y");I=V(b,"Y");a(document).on(Ea?"touchmove.dwsc":"mousemove.dwsc",function(a){a.preventDefault();I=V(a,"Y");h=Math.min(0,Math.max(X+I-t,k));l(h);Math.abs(I-t)>5&&(F=true)}).on(Ea?"touchend.dwsc":"mouseup.dwsc",function(){a(document).off(".dwsc")})}});b.tap(q,function(){F||u()})}},onMonthChange:function(){K&&u()},onMonthLoaded:function(){if(O){i(O.d,
a('.dw-cal-day-v[data-full="'+O.full+'"]:not(.dw-cal-day-diff)',y));O=false}},onDayChange:function(d){var f=d.date,h=a(d.cell),d=d.selected;if(K){u();h.hasClass("dw-cal-day-ev")||setTimeout(function(){b.changing?O={d:f,full:h.attr("data-full")}:i(f,h)},10)}else if(D)if(v.selectType=="week"){var k,l,e=f.getDay()-v.firstSelectDay,e=e<0?7+e:e;if(!v.multiSelect)b._selectedValues={};for(k=0;k<7;k++){l=new Date(f.getFullYear(),f.getMonth(),f.getDate()-e+k);d?delete b._selectedValues[l]:b._selectedValues[l]=
l}A()}else{k=a('.dw-cal .dw-cal-day[data-full="'+h.attr("data-full")+'"]',y);if(d){k.removeClass("dw-sel").removeAttr("aria-selected").find(".dw-i").removeClass(N);delete b._selectedValues[f]}else{k.addClass("dw-sel").attr("aria-selected","true").find(".dw-i").addClass(N);b._selectedValues[f]=f}}if(!K&&!v.multiSelect&&v.closeOnSelect&&v.display!=="inline"){b.needsSlide=false;b.setDate(f);b.select();return false}},onCalResize:function(){B&&a(".dw-cal-events-arr",q).css("left",H.offset().left-q.offset().left+
H.width()/2)},onCancel:function(){if(!b.live&&D)b._selectedValues=a.extend({},T)}});return Q}})(jQuery);(function(a){var u=a.mobiscroll,B=new Date,V={startYear:B.getFullYear()-100,endYear:B.getFullYear()+1,shortYearCutoff:"+10",showNow:!1,stepHour:1,stepMinute:1,stepSecond:1,separator:" ",dateFormat:"mm/dd/yy",dateOrder:"mmddy",timeWheels:"hhiiA",timeFormat:"hh:ii A",monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),
dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),monthText:"Month",dayText:"Day",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",amText:"am",pmText:"pm",nowText:"Now"},P=function(w){function r(a,b,f){return void 0!==F[b]?+a[F[b]]:void 0!==f?f:D[X[b]]?D[X[b]]():X[b](D)}function b(a,b,f,d){a.push({values:f,keys:b,label:d})}function o(a,b,f,d){return Math.min(d,Math.floor(a/b)*b+f)}function i(a){var b=r(a,"h",0);return new Date(r(a,"y"),r(a,"m"),r(a,"d"),
r(a,"a",0)?b+12:b,r(a,"i",0),r(a,"s",0))}function ca(a,b){var f,d,h=!1,i=!1,k=0,l=0;if(A(a))return a;a<T&&(a=T);a>K&&(a=K);d=f=a;if(2!==b)for(h=A(f);!h&&f<K;)f=new Date(f.getTime()+864E5),h=A(f),k++;if(1!==b)for(i=A(d);!i&&d>T;)d=new Date(d.getTime()-864E5),i=A(d),l++;return 1===b&&h?f:2===b&&i?d:l<k&&i?d:f}function A(a){var b,f,d;if(a<T||a>K)return!1;if(L)for(f=0;f<L.length;f++)if(b=L[f],d=b+"",!b.start)if(b.getTime){if(a.getFullYear()==b.getFullYear()&&a.getMonth()==b.getMonth()&&a.getDate()==b.getDate())return!1}else if(d.match(/w/i)){if(d=
+d.replace("w",""),d==a.getDay())return!1}else if(d=d.split("/"),d[1]){if(d[0]-1==a.getMonth()&&d[1]==a.getDate())return!1}else if(d[0]==a.getDate())return!1;return!0}function l(b,f){return a(".dw-li",b).index(a('.dw-li[data-val="'+f+'"]',b))}function W(a){var b,f=[];for(b in F)f[F[b]]=a[X[b]]?a[X[b]]():X[b](a);return f}var y=a(this),I={},q;if(y.is("input")){switch(y.attr("type")){case "date":q="yy-mm-dd";break;case "datetime":q="yy-mm-ddTHH:ii:ssZ";break;case "datetime-local":q="yy-mm-ddTHH:ii:ss";
break;case "month":q="yy-mm";I.dateOrder="mmyy";break;case "time":q="HH:ii:ss"}var H=y.attr("min"),y=y.attr("max");H&&(I.minDate=u.parseDate(q,H));y&&(I.maxDate=u.parseDate(q,y))}var m,E,z,B,C,L,xa,H=a.extend({},w.settings),k=a.extend(w.settings,V,I,H),h=0,y=[],Q=[],F={},X={y:"getFullYear",m:"getMonth",d:"getDate",h:function(a){a=a.getHours();a=ga&&12<=a?a-12:a;return o(a,ha,R,Da)},i:function(a){return o(a.getMinutes(),aa,d,ta)},s:function(a){return o(a.getSeconds(),na,f,p)},a:function(a){return v&&
11<a.getHours()?1:0}},t=k.preset,P=k.dateOrder,O=k.timeWheels,da=P.match(/D/),v=O.match(/a/i),ga=O.match(/h/),N="datetime"==t?k.dateFormat+k.separator+k.timeFormat:"time"==t?k.timeFormat:k.dateFormat,D=new Date,ha=k.stepHour,aa=k.stepMinute,na=k.stepSecond,T=k.minDate||new Date(k.startYear,0,1),K=k.maxDate||new Date(k.endYear,11,31,23,59,59),R=T.getHours()%ha,d=T.getMinutes()%aa,f=T.getSeconds()%na,Da=Math.floor(((ga?11:23)-R)/ha)*ha+R,ta=Math.floor((59-d)/aa)*aa+d,p=Math.floor((59-d)/aa)*aa+d;q=
q||N;if(t.match(/date/i)){a.each(["y","m","d"],function(a,b){m=P.search(RegExp(b,"i"));-1<m&&Q.push({o:m,v:b})});Q.sort(function(a,b){return a.o>b.o?1:-1});a.each(Q,function(a,b){F[b.v]=a});H=[];for(I=0;3>I;I++)if(I==F.y){h++;z=[];E=[];B=T.getFullYear();C=K.getFullYear();for(m=B;m<=C;m++)E.push(m),z.push((P.match(/yy/i)?m:(m+"").substr(2,2))+(k.yearSuffix||""));b(H,E,z,k.yearText)}else if(I==F.m){h++;z=[];E=[];for(m=0;12>m;m++)B=P.replace(/[dy]/gi,"").replace(/mm/,(9>m?"0"+(m+1):m+1)+(k.monthSuffix||
"")).replace(/m/,m+1+(k.monthSuffix||"")),E.push(m),z.push(B.match(/MM/)?B.replace(/MM/,'<span class="dw-mon">'+k.monthNames[m]+"</span>"):B.replace(/M/,'<span class="dw-mon">'+k.monthNamesShort[m]+"</span>"));b(H,E,z,k.monthText)}else if(I==F.d){h++;z=[];E=[];for(m=1;32>m;m++)E.push(m),z.push((P.match(/dd/i)&&10>m?"0"+m:m)+(k.daySuffix||""));b(H,E,z,k.dayText)}y.push(H)}if(t.match(/time/i)){xa=!0;Q=[];a.each(["h","i","s","a"],function(a,b){a=O.search(RegExp(b,"i"));-1<a&&Q.push({o:a,v:b})});Q.sort(function(a,
b){return a.o>b.o?1:-1});a.each(Q,function(a,b){F[b.v]=h+a});H=[];for(I=h;I<h+4;I++)if(I==F.h){h++;z=[];E=[];for(m=R;m<(ga?12:24);m+=ha)E.push(m),z.push(ga&&0===m?12:O.match(/hh/i)&&10>m?"0"+m:m);b(H,E,z,k.hourText)}else if(I==F.i){h++;z=[];E=[];for(m=d;60>m;m+=aa)E.push(m),z.push(O.match(/ii/)&&10>m?"0"+m:m);b(H,E,z,k.minuteText)}else if(I==F.s){h++;z=[];E=[];for(m=f;60>m;m+=na)E.push(m),z.push(O.match(/ss/)&&10>m?"0"+m:m);b(H,E,z,k.secText)}else I==F.a&&(h++,E=O.match(/A/),b(H,[0,1],E?[k.amText.toUpperCase(),
k.pmText.toUpperCase()]:[k.amText,k.pmText],k.ampmText));y.push(H)}w.setDate=function(a,b,f,d,h){w.temp=W(a);w.setValue(w.temp,b,f,d,h)};w.getDate=function(a){return i(a?w.temp:w.values)};w.convert=function(b){var f=b;a.isArray(b)||(f=[],a.each(b,function(b,e){a.each(e,function(a,e){"daysOfWeek"===b&&(e.d?e.d="w"+e.d:e="w"+e);f.push(e)})}));return f};w.format=N;w.buttons.now={text:k.nowText,css:"dwb-n",handler:function(){w.setDate(new Date,!1,0.3,!0,!0)}};k.showNow&&k.buttons.splice(a.inArray("set",
k.buttons)+1,0,"now");L=k.invalid?w.convert(k.invalid):!1;T=i(W(T));K=i(W(K));return{wheels:y,headerText:k.headerText?function(){return u.formatDate(N,i(w.temp),k)}:!1,formatResult:function(a){return u.formatDate(q,i(a),k)},parseValue:function(a){return W(u.parseDate(q,a,k))},validate:function(b,h,m,n){var h=ca(i(w.temp),n),q=W(h),t={y:T.getFullYear(),m:0,d:1,h:R,i:d,s:f,a:0},v={y:K.getFullYear(),m:11,d:31,h:Da,i:ta,s:p,a:1},y={h:ha,i:aa,s:na,a:1},A=r(q,"y"),z=r(q,"m"),u=!0,H=!0;a.each("y,m,d,a,h,i,s".split(","),
function(f,d){if(F[d]!==void 0){var h=t[d],i=v[d],j=31,m=r(q,d),n=a(".dw-ul",b).eq(F[d]);if(d=="d"){i=j=32-(new Date(A,z,32)).getDate();da&&a(".dw-li",n).each(function(){var b=a(this),c=b.data("val"),e=(new Date(A,z,c)).getDay(),c=P.replace(/[my]/gi,"").replace(/dd/,(c<10?"0"+c:c)+(k.daySuffix||"")).replace(/d/,c+(k.daySuffix||""));a(".dw-i",b).html(c.match(/DD/)?c.replace(/DD/,'<span class="dw-day">'+k.dayNames[e]+"</span>"):c.replace(/D/,'<span class="dw-day">'+k.dayNamesShort[e]+"</span>"))})}u&&
T&&(h=T[X[d]]?T[X[d]]():X[d](T));H&&K&&(i=K[X[d]]?K[X[d]]():X[d](K));if(d!="y"){var o=l(n,h),p=l(n,i);a(".dw-li",n).removeClass("dw-v").slice(o,p+1).addClass("dw-v");d=="d"&&a(".dw-li",n).removeClass("dw-h").slice(j).addClass("dw-h")}m<h&&(m=h);m>i&&(m=i);u&&(u=m==h);H&&(H=m==i);if(L&&d=="d"){i=(new Date(A,z,1)).getDay();m=[];for(h=0;h<L.length;h++){o=L[h];p=o+"";if(!o.start)if(o.getTime)o.getFullYear()==A&&o.getMonth()==z&&m.push(o.getDate()-1);else if(p.match(/w/i)){p=+p.replace("w","");for(o=p-
i;o<j;o=o+7)o>=0&&m.push(o)}else{p=p.split("/");p[1]?p[0]-1==z&&m.push(p[1]-1):m.push(p[0]-1)}}a.each(m,function(b,c){a(".dw-li",n).eq(c).removeClass("dw-v")})}}});if(xa&&L){var I,x,B,E,G,C,D,N,S,Q,M,O,V,j,$,fa,ja={},pa=r(q,"d"),ba=new Date(A,z,pa),Ga=["a","h","i","s"];a.each(L,function(a,b){if(b.start&&(b.apply=!1,I=b.d,x=I+"",E=x.split("/"),I&&(I.getTime&&A==I.getFullYear()&&z==I.getMonth()&&pa==I.getDate()||!x.match(/w/i)&&(E[1]&&pa==E[1]&&z==E[0]-1||!E[1]&&pa==E[0])||x.match(/w/i)&&ba.getDay()==
+x.replace("w",""))))b.apply=!0,ja[ba]=!0});a.each(L,function(d,f){if(f.start&&(f.apply||!f.d&&!ja[ba])){G=f.start.split(":");C=f.end.split(":");for(D=0;3>D;D++)void 0===G[D]&&(G[D]=0),void 0===C[D]&&(C[D]=59),G[D]=+G[D],C[D]=+C[D];G.unshift(11<G[0]?1:0);C.unshift(11<C[0]?1:0);ga&&(12<=G[1]&&(G[1]-=12),12<=C[1]&&(C[1]-=12));V=O=!0;a.each(Ga,function(f,d){if(F[d]!==void 0){B=r(q,d);Q=fa=$=0;M=void 0;j=a(".dw-ul",b).eq(F[d]);for(D=f+1;D<4;D++){G[D]>0&&($=y[d]);C[D]<v[Ga[D]]&&(fa=y[d])}N=o(G[f],y[d],
t[d],v[d])+$;S=o(C[f],y[d],t[d],v[d])-fa;O&&(Q=N<0?0:N>v[d]?a(".dw-li",j).length:l(j,N)+0);V&&(M=S<0?0:S>v[d]?a(".dw-li",j).length:l(j,S)+1);(O||V)&&a(".dw-li",j).slice(Q,M).removeClass("dw-v");B=w.getValidCell(B,j,n).val;O=O&&B==o(G[f],y[d],t[d],v[d]);V=V&&B==o(C[f],y[d],t[d],v[d]);q[F[d]]=B}})}})}w.temp=q}}};a.each(["date","time","datetime"],function(a,r){u.presets[r]=P;u.presetShort(r)});u.datetime={};u.formatDate=u.datetime.formatDate=function(w,r,b){if(!r)return null;var b=a.extend({},V,b),o=
function(a){for(var b=0;A+1<w.length&&w.charAt(A+1)==a;)b++,A++;return b},i=function(a,b,i){b=""+b;if(o(a))for(;b.length<i;)b="0"+b;return b},u=function(a,b,i,l){return o(a)?l[b]:i[b]},A,l="",B=!1;for(A=0;A<w.length;A++)if(B)"'"==w.charAt(A)&&!o("'")?B=!1:l+=w.charAt(A);else switch(w.charAt(A)){case "d":l+=i("d",r.getDate(),2);break;case "D":l+=u("D",r.getDay(),b.dayNamesShort,b.dayNames);break;case "o":l+=i("o",(r.getTime()-(new Date(r.getFullYear(),0,0)).getTime())/864E5,3);break;case "m":l+=i("m",
r.getMonth()+1,2);break;case "M":l+=u("M",r.getMonth(),b.monthNamesShort,b.monthNames);break;case "y":l+=o("y")?r.getFullYear():(10>r.getYear()%100?"0":"")+r.getYear()%100;break;case "h":var y=r.getHours(),l=l+i("h",12<y?y-12:0===y?12:y,2);break;case "H":l+=i("H",r.getHours(),2);break;case "i":l+=i("i",r.getMinutes(),2);break;case "s":l+=i("s",r.getSeconds(),2);break;case "a":l+=11<r.getHours()?b.pmText:b.amText;break;case "A":l+=11<r.getHours()?b.pmText.toUpperCase():b.amText.toUpperCase();break;
case "'":o("'")?l+="'":B=!0;break;default:l+=w.charAt(A)}return l};u.parseDate=u.datetime.parseDate=function(w,r,b){var o=a.extend({},V,b),b=o.defaultValue||new Date;if(!w||!r)return b;var r="object"==typeof r?r.toString():r+"",i=o.shortYearCutoff,u=b.getFullYear(),A=b.getMonth()+1,l=b.getDate(),B=-1,y=b.getHours(),I=b.getMinutes(),q=0,H=-1,m=!1,E=function(a){(a=L+1<w.length&&w.charAt(L+1)==a)&&L++;return a},z=function(a){E(a);a=r.substr(C).match(RegExp("^\\d{1,"+("@"==a?14:"!"==a?20:"y"==a?4:"o"==
a?3:2)+"}"));if(!a)return 0;C+=a[0].length;return parseInt(a[0],10)},P=function(a,b,h){a=E(a)?h:b;for(b=0;b<a.length;b++)if(r.substr(C,a[b].length).toLowerCase()==a[b].toLowerCase())return C+=a[b].length,b+1;return 0},C=0,L;for(L=0;L<w.length;L++)if(m)"'"==w.charAt(L)&&!E("'")?m=!1:C++;else switch(w.charAt(L)){case "d":l=z("d");break;case "D":P("D",o.dayNamesShort,o.dayNames);break;case "o":B=z("o");break;case "m":A=z("m");break;case "M":A=P("M",o.monthNamesShort,o.monthNames);break;case "y":u=z("y");
break;case "H":y=z("H");break;case "h":y=z("h");break;case "i":I=z("i");break;case "s":q=z("s");break;case "a":H=P("a",[o.amText,o.pmText],[o.amText,o.pmText])-1;break;case "A":H=P("A",[o.amText,o.pmText],[o.amText,o.pmText])-1;break;case "'":E("'")?C++:m=!0;break;default:C++}100>u&&(u+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u<=("string"!=typeof i?i:(new Date).getFullYear()%100+parseInt(i,10))?0:-100));if(-1<B){A=1;l=B;do{o=32-(new Date(u,A-1,32)).getDate();if(l<=o)break;A++;l-=o}while(1)}y=
new Date(u,A-1,l,-1==H?y:H&&12>y?y+12:!H&&12==y?0:y,I,q);return y.getFullYear()!=u||y.getMonth()+1!=A||y.getDate()!=l?b:y}})(jQuery);
